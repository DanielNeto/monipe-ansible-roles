####################################
#Default perfSONAR sysctl settings
####################################
net.core.default_qdisc = fq
net.core.rmem_default = 268435456
net.core.rmem_max = 268435456
net.core.wmem_default = 268435456
net.core.wmem_max = 268435456
net.ipv4.conf.all.arp_announce = 2
net.ipv4.conf.default.arp_filter = 1
net.ipv4.tcp_congestion_control = htcp
net.ipv4.tcp_no_metrics_save = 1
net.ipv4.conf.default.arp_ignore = 1
net.ipv4.conf.all.arp_ignore = 1
net.ipv4.conf.all.arp_filter = 1
net.ipv4.tcp_rmem = 4096 87380 134217728
net.ipv4.tcp_wmem = 4096 65536 134217728
net.ipv4.ip_forward=1
{% for interface in ansible_interfaces %}
{% if ('ens' in interface) and not ('.' in interface) %}
net.ipv4.conf.{{ interface }}.arp_announce = 2
{% endif %}
{% endfor %}